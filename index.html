<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=iso-8859-1"/>
	<title></title>
	<meta name="generator" content="LibreOffice 4.3.7.2 (Linux)"/>
	<meta name="created" content="2017-05-06T13:41:09.014415981"/>
	<meta name="changed" content="2017-05-15T19:33:31.046977820"/>
	<style type="text/css">
		@page { margin: 0.79in }
		p { margin-bottom: 0.1in; line-height: 120% }
		h1 { margin-bottom: 0.08in; background: transparent; color: #0093d9 }
		h1.western { font-family: "Liberation Sans", sans-serif; font-size: 18pt }
		h1.cjk { font-family: "AR PL UMing HK"; font-size: 18pt }
		h1.ctl { font-family: "Lohit Devanagari"; font-size: 18pt }
		h3 { color: #666666 }
		h3.western { font-family: "Liberation Sans", sans-serif }
		h3.cjk { font-family: "AR PL UMing HK" }
		h3.ctl { font-family: "Lohit Devanagari" }
		pre.cjk { font-family: "Nimbus Mono L", monospace }
		a:link { so-language: zxx }
	</style>
</head>
<body lang="en-US" dir="ltr">
<p align="center" style="margin-top: 0.17in; margin-bottom: 0.08in; line-height: 100%; page-break-after: avoid">
<font face="Liberation Sans, sans-serif"><font size="6" style="font-size: 28pt"><b>EPICS
Qt at GitHub</b></font></font></p>
<div id="Table of Contents1" dir="ltr" style="background: transparent">
	<p style="margin-bottom: 0in; line-height: 100%"><a href="#__RefHeading__535_1828029437">Introduction	</a></p>
	<p style="margin-bottom: 0in; line-height: 100%"><a href="#__RefHeading__537_1828029437">Structure	</a></p>
	<p style="margin-bottom: 0in; line-height: 100%"><a href="#__RefHeading__539_1828029437">License	</a></p>
	<p style="margin-bottom: 0in; line-height: 100%"><a href="#__RefHeading__541_1828029437">Prerequisites
	for EPICS Qt	</a></p>
	<p style="margin-bottom: 0in; line-height: 100%"><a href="#__RefHeading__543_1828029437">Getting
	Started - Headless Build	</a></p>
	<p style="margin-bottom: 0in; line-height: 100%"><a href="#__RefHeading__545_1828029437">Environment
	Variables	</a></p>
	<p style="margin-bottom: 0in; line-height: 100%"><a href="#__RefHeading__547_1828029437">Future
	Plans	</a></p>
	<p style="margin-bottom: 0in; line-height: 100%"><a href="#__RefHeading__549_1828029437">Feed
	Back and Collaboration	</a></p>
	<p style="margin-bottom: 0in; line-height: 100%"><a href="#__RefHeading__551_1828029437">Credits	</a></p>
</div>
<h1 class="western"></h1>
<h1 class="western"><a name="__RefHeading__535_1828029437"></a>Introduction</h1>
<p style="margin-bottom: 0in; line-height: 100%"><b>NOTE:</b> We are
still preparing the GitHub repositories including this documentation.
An announcement will be made on tech-talk in due course when we are
ready.</p>
<h1 class="western"><a name="__RefHeading__537_1828029437"></a>Structure</h1>
<p style="margin-bottom: 0in; line-height: 100%">This describes how
the repositories at GitHub are organised.<br><br>The transfer of the
EPICS Qt framework from SourceForge to GitHub has been an ideal
opportunity for a few organisational changes. These are outlined
below. There have been no functionality changes per se.<br><br>The
major change is that EPICS Qt has been split into a number of
components, each managed in its own GitHub repository.<br><br>The two
primary repositories are the <a href="https://github.com/qtepics/qeframework">QE
Framework</a> repository which provide the framework plugin library
and the <a href="https://github.com/qtepics/qegui">QEGui Display
Manager</a> repository which provides the <i>qegui</i> display
manager. The documentation is included within the qeframework
repository.<br><br>The other repositories are optional, and basically
provide examples of using or extending the framework.<br><br/>

</p>
<ul>
	<li/>
<p style="margin-bottom: 0in; line-height: 100%"><a href="https://github.com/qtepics/qeMonitor">QE
	Monitor</a></p>
</ul>
<ul>
	<li/>
<p style="margin-bottom: 0in; line-height: 100%"><a href="https://github.com/qtepics/qeReadArchive">QE
	Read Archive</a></p>
</ul>
<ul>
	<li/>
<p style="margin-bottom: 0in; line-height: 100%"><a href="https://github.com/qtepics/qeWidgetDisplay">QE
	Widget Display</a></p>
</ul>
<ul>
	<li/>
<p style="margin-bottom: 0in; line-height: 100%"><a href="https://github.com/qtepics/qeExamplePlugin">QE
	Example Plugin</a></p>
</ul>
<ul>
	<li/>
<p style="margin-bottom: 0in; line-height: 100%"><a href="https://github.com/qtepics/qeByteArrayTest">QE
	Byte Array Test</a></p>
</ul>
<p style="margin-bottom: 0in; line-height: 100%"><br>There is no
longer an epicsqt.pro overall project file to build all sub projects.
Each repository still has its own project file, e.g. framework.pro,
QEGuiApp.pro, and these may be opened by qtcreator in order to build
each component as could be done previously.<br><br>However, each
component is now located within its ow<span style="font-style: normal">n
&lt;top&gt; d</span>irectory that allows the component to be readily
(and headlessly) built in a much more EPICS-like fashion by just
calling make from within the <i>top</i> directory. Under-the-covers,
the component's application directory's own Makefile essentially
invokes <i>qmake</i> and then make on the generated Makefile.<br><br>In
the case of qeframework, the include files are placed in
&lt;top&gt;/include and the shared library/dll file is place in<span style="font-style: normal">
&lt;top&gt;/</span>lib/&lt;epics_host_arch&gt;. In the case of qegui,
this is located in &lt;top&gt;/bin/&lt;epics_host_arch&gt;. The use
of the environment variable QE_TARGET_DIR may still be used to
override this.</p>
<p style="margin-bottom: 0in; line-height: 100%"><br/>

</p>
<p style="margin-bottom: 0in; line-height: 100%">Each code repository
has a an  r3.4.2 tag which corresponds to SourceForge 3.4.2 release.</p>
<h1 class="western"><a name="__RefHeading__539_1828029437"></a>License</h1>
<p>The EPICS QT Framework is free software: you can redistribute it
and/or modify it under the terms of the GNU Lesser General Public
License as published by the Free Software Foundation, either version
3 of the License, or (at your option) any later version.</p>
<p>The EPICS QT Framework is distributed in the hope that it will be
useful, but WITHOUT ANY WARRANTY; without even the implied warranty
of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
Lesser General Public License for more details.</p>
<p>You should have received a copy of the GNU Lesser General Public
License along with the EPICS QT Framework.  If not, see
<a href="https://www.gnu.org/licenses/">https://www.gnu.org/licenses/</a>.</p>
<h1 class="western"><a name="__RefHeading__541_1828029437"></a>Prerequisites
for EPICS Qt</h1>
<h3 class="western">Install/build EPICS</h3>
<p style="margin-bottom: 0in; line-height: 100%">Please visit the
<a href="http://www.aps.anl.gov/epics/">EPICS</a> web page for
details. 
</p>
<h3 class="western">Install Qt</h3>
<p style="margin-bottom: 0in; line-height: 100%">At least version
4.6, but 5.6 and 5.7 have been successfully used at the Australian
Synchrotron.</p>
<h3 class="western">Install QWT</h3>
<p style="margin-bottom: 0in; line-height: 100%">The version must be
compatible with your version of Qt. 
</p>
<h1 class="western"><a name="__RefHeading__543_1828029437"></a>Getting
Started - Headless Build</h1>
<p style="margin-bottom: 0.2in; line-height: 100%">There is some
useful information in <a href="https://github.com/qtepics/qeframework/blob/master/documentation/QE_GettingStarted.pdf">QE_GettingStarted.pdf</a>,
however this document still refers to the old structure and to
SourceForge as the source.</p>
<p style="margin-bottom: 0.2in; line-height: 100%">The commands shown
here illustrate downloading and building epicsQt in the directory
<b>/home/user/qtepics</b>. This is just for the purposes of providing
example commands. You are free to to down load and install anywhere
on your system.<br><br>Note: This instructions are currently
Linux-centric, but hopefully Window's users will have no trouble
translating to the Window's equivalent. 
</p>
<h3 class="western">Download source code and documentation</h3>
<p style="margin-bottom: 0in; line-height: 100%">Clone the framework
and the qegui repositories.</p>
<pre class="western">   mkdir /home/user/qtepics
   cd /home/user/qtepics
   git clone <a href="https://github.com/qtepics/qeframework.git">https://github.com/qtepics/qeframework.git</a>
   git clone <a href="https://github.com/qtepics/qegui.git">https://github.com/qtepics/qegui.git</a>
</pre><h3 class="western">
RELEASE files</h3>
<p>Modify /home/user/qtepics/qeframework/configure/RELEASE file such
that: 
</p>
<pre class="western" style="margin-bottom: 0.2in">   EPICS_BASE=&lt;a reference your EPICS base&gt;</pre><p>
Modify qegui/configure/RELEASE file such that: 
</p>
<pre class="western">   EPICS_BASE=&lt;a reference your EPICS base&gt;
   QE_FRAMEWORK=/home/user/qtepics/qeframework  # example</pre><h3 class="western">
Environment Variables</h3>
<p style="margin-bottom: 0in; line-height: 100%">Define
EPICS_HOST_ARCH (e.g. export EPICS_HOST_ARCH=linux-x86_64)<br><br>Define
QWT_INCLUDE_PATH (e.g. export
QWT_INCLUDE_PATH=/usr/include/qwt)<br><br><i>Optional:</i> Define
QE_FFMPEG if mpeg streaming is required (on Windows, this must point
to the FFMPEG directory; on Linux  just being defined is
sufficient).<br><br><i>Optional:</i> Define QE_CAQTDM if integration
of PSI's caQtDM into QEGui is required. If you want caQtDM
integrated, download and build it and define the environment variable
QE_CAQTDM to point to the caQtDM_Project directory. 
</p>
<h3 class="western">qmake</h3>
<p style="margin-bottom: 0in; line-height: 100%">When used in
headless mode, the <i>qmake</i> program is invoked to generate a
Makefile. Ensure that your PATH environment variable results in
required version of qmake being available. For some versions of Qt,
the <i>qmake</i> program is know as <i>qmake-qt4</i>. In this case it
will be necessary to &quot;fake&quot; it, e.g.:</p>
<pre class="western">   
   cd ${HOME}/bin
   ln -s /usr/bin/qmake-qt4 qmake </pre><p>
or something similar. 
</p>
<h3 class="western">MinGW compiler</h3>
<p style="margin-bottom: 0in; line-height: 100%">If using the MinGW
compiler, modify the
/home/user/qtepics/qeframework/qeframeworkSup/project/framework.pro
project file (approximately line 50) and un-comment the line: 
</p>
<pre class="western" style="margin-bottom: 0.2in">   <br>   #DEFINES += _MINGW=TRUE</pre><p>
to be: 
</p>
<pre class="western" style="margin-bottom: 0.2in">   DEFINES += _MINGW=TRUE</pre><h3 class="western">
Build</h3>
<pre class="western">   cd  /home/user/qtepics/qeframework
   make
   cd  /home/user/qtepics/qegui
   make</pre><h1 class="western">
<a name="__RefHeading__545_1828029437"></a>Environment Variables</h1>
<h3 class="western">Build Time Environment Variables</h3>
<p>EPICS_BASE - defines the location of EPICS base. For headless
building, this is defined in the configure/RELEASE file, however when
using <i>qtcreator</i> it must be explicitly defined.</p>
<p>EPICS_HOST_ARCH - defines the host architecture.</p>
<p>QWT_INCLUDE_PATH - defines the location of the QWT header files.
Typically /usr/include/qwt on Linux.</p>
<p>QWT_ROOT - optional.</p>
<p>QE_TARGET_DIR - optional.</p>
<p>QE_FFMPEG - optional.</p>
<p>QE_FRAMEWORK - defines the location of the qeframework <i>top</i>
directory, and is needed the  qeframework clients such as qegui, but
not for the framework itself.  For headless building, this is defined
in the configure/RELEASE file, however when using <i>qtcreator</i> it
must be explicitly defined.</p>
<p>QE_CAQTDM - optional.</p>
<p>QE_CAQTDM_LIB - optional.</p>
<p>QTINC - Qt5 
</p>
<h3 class="western">Run Time Environment Variables</h3>
<p style="margin-bottom: 0in; line-height: 100%">The following are
all optional.</p>
<p style="margin-bottom: 0in; line-height: 100%"><br/>

</p>
<p>QE_UI_PATH &ndash; defines alternative/additional  paths used when
searching for a ui file.</p>
<p>QE_ARCHIVE_LIST - specifies a list of channel archive servers.</p>
<p>QE_ARCHIVE_PATTERN -  pattern match applied when extracting PV
list from the archivers.</p>
<p>QE_STRIPCHART_PREDEFINED_PVS - defines up to 10 space separated PV
names that are added to the Strip Chart context menu.</p>
<p>QE_GLOBAL_STYLE_SHEET - defines a global style that is applied to
the application.</p>
<p>QE_RECORD_FIELD_LIST - specifies a file that defines/replace the
set of field names associated with each record type.</p>
<p style="margin-bottom: 0in; line-height: 100%">Running <i>qegui -h</i>
provides further details about each of these environment variables.</p>
<p style="margin-bottom: 0in; line-height: 100%"><br/>

</p>
<p style="margin-bottom: 0in; line-height: 100%">As the EPICS Qt
framework is a Channel Access client, thus the values assigned to:</p>
<p style="margin-bottom: 0in; line-height: 100%"><br/>

</p>
<pre class="western">  EPICS_CA_AUTO_ADDR_LIST,
  EPICS_CA_ADDR_LIST,
  EPICS_CA_MAX_ARRAY_BYTES,
  EPICS_CA_SERVER_PORT etc.</pre><p style="margin-bottom: 0in; line-height: 100%">
<br/>

</p>
<p style="margin-bottom: 0in; line-height: 100%">can affect the
operation of this program. Please refer to EPICS R3.14 Channel</p>
<p style="margin-bottom: 0in; line-height: 100%">Access Reference
Manual for details.</p>
<p style="margin-bottom: 0in; line-height: 100%"><br/>

</p>
<h1 class="western"><a name="__RefHeading__547_1828029437"></a>Future
Plans</h1>
<h3 class="western">Complete Transition to GitHub</h3>
<p>Tidy up documentation.</p>
<h3 class="western">Archive Appliance</h3>
<p>In house work nearly complete, however this needs to be thoroughly
tested on a number of Qt version / OS platform combination. 
</p>
<h3 class="western">Pre-Built Libraries and QEGui program</h3>
<p>Provide a download and run capability.</p>
<h3 class="western">EPICS 4 Integration</h3>
<p style="margin-bottom: 0in; line-height: 100%">One day &hellip;.</p>
<p style="margin-bottom: 0in; line-height: 100%"><br/>

</p>
<h1 class="western"><a name="__RefHeading__549_1828029437"></a>Feed
Back and Collaboration</h1>
<p style="margin-bottom: 0in; line-height: 100%">TBD</p>
<h1 class="western"><a name="__RefHeading__551_1828029437"></a>Credits</h1>
<h3 class="western">Developers</h3>
<p>Andrew Ryder, Glenn Jackson, Anthony Owen,  Ricardo Fernandes,
Andrew Starritt</p>
<h3 class="western">3rd Party Software</h3>
<p>Apart form EPICS base and Qt itself, the EPICS Qt framework used
the following.<br><br>The EPICS Qt framework relies on QWT for
plotting. <a href="https://sourceforge.net/projects/qwt/">https://sourceforge.net/projects/qwt/</a>.<br><br>To
access the Channel Access Archive data, the EPICS Qt framework relies
on the maiaXmlRpcClient and support classes written by Frerich Raabe
&lt;<a href="mailto:raabe@kde.org">raabe@kde.org</a>&gt;, Ian
Reinhart Geiser &lt;<a href="mailto:geiseri@kde.org">geiseri@kde.org</a>&gt;,
Karl Glatz and Sebastian Wiedenroth &lt;<a href="mailto:wiedi@frubar.net">wiedi@frubar.net</a>&gt;.<br><br>When
built with MPEG support, the EPICS Qt framework relies on FFmpeg for
reading MPEG image streams. <a href="https://www.ffmpeg.org/">https://www.ffmpeg.org/</a>
<br><br>The QEGui application can be built to support caQtDM widgets
provided by The Paul Scherrer Institute.
<a href="https://epics.web.psi.ch/software/caqtdm/">https://epics.web.psi.ch/software/caqtdm/</a>.</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
</body>
</html>