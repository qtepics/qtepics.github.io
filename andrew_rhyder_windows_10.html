<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=iso-8859-1"/>
	<title></title>
	<meta name="generator" content="LibreOffice 4.3.7.2 (Linux)"/>
	<meta name="author" content="starritta"/>
	<meta name="created" content="2017-06-22T08:25:00"/>
	<meta name="changed" content="2017-06-26T20:03:50.948763408"/>
	<meta name="AppVersion" content="12.0000"/>
	<meta name="Company" content="ASCo"/>
	<meta name="DocSecurity" content="0"/>
	<meta name="HyperlinksChanged" content="false"/>
	<meta name="LinksUpToDate" content="false"/>
	<meta name="ScaleCrop" content="false"/>
	<meta name="ShareDoc" content="false"/>
	<style type="text/css">
		@page { margin: 1in }
		p { margin-bottom: 0.1in; direction: ltr; line-height: 120%; text-align: left; widows: 2; orphans: 2 }
		p.western { font-family: "Times New Roman", serif; font-size: 12pt }
		p.cjk { font-size: 12pt; so-language: en-AU }
		p.ctl { font-family: "Times New Roman"; font-size: 12pt }
		h1 { margin-top: 0.19in; margin-bottom: 0.19in; direction: ltr; line-height: 100%; text-align: left; widows: 2; orphans: 2; page-break-after: auto }
		h1.western { font-family: "Times New Roman", serif }
		h1.cjk { font-size: 24pt; so-language: en-AU }
		h1.ctl { font-family: "Times New Roman"; font-size: 24pt }
	</style>
</head>
<body lang="en-AU" dir="ltr">
<p style="margin-bottom: 0in; line-height: 100%"><font color="#000000"><font face="Tahoma, serif"><font size="4" style="font-size: 16pt">Building
EPICS, the QE framework, and qegui on windows 10, Qt 5.9</font></font></font></p>
<h1 class="western" style="margin-top: 0.17in; margin-bottom: 0in"><font color="#2f5496"><font face="Calibri Light, serif"><font size="5" style="font-size: 18pt">Environment:</font></font></font></h1>
<ul>
	<li/>
<p style="margin-bottom: 0in; line-height: 100%"><font color="#000000"><font face="Calibri, serif">Microsoft
	&lsquo;Surface&rsquo; running Windows 10 Pro</font></font></p>
	<li/>
<p style="margin-bottom: 0in; line-height: 100%"><font color="#000000"><font face="Calibri, serif">64
	bit Operating System x64-based processor</font></font></p>
</ul>
<h1 class="western" style="margin-top: 0.17in; margin-bottom: 0in"><font color="#2f5496"><font face="Calibri Light, serif"><font size="5" style="font-size: 18pt">EPICS
configuration and build</font></font></font></h1>
<ul>
	<li/>
<p style="margin-bottom: 0in; line-height: 100%"><font color="#000000"><font face="Calibri, serif">Set
	EPICS_HOST_ARCH=windows-x64</font></font></p>
	<li/>
<p style="margin-bottom: 0in; line-height: 100%"><font color="#000000"><font face="Calibri, serif">Set
	EPICS_BASE=C:\epics\base</font></font></p>
	<li/>
<p style="margin-bottom: 0in; line-height: 100%"><font color="#000000"><font face="Calibri, serif">EPICS
	3.15.5 source copied to C:\epics</font></font></p>
	<li/>
<p style="margin-bottom: 0in; line-height: 100%"><font color="#000000"><font face="Calibri, serif">Installed
	strawberry perl 5.26.1 to C:\stawberry</font></font></p>
	<li/>
<p style="margin-bottom: 0in; line-height: 100%"><font color="#000000"><font face="Calibri, serif">Installed
	Visual Studio 2017</font></font></p>
	<li/>
<p style="margin-bottom: 0in; line-height: 100%"><font color="#000000"><font face="Calibri, serif">Installed
	mingw-w64 7.1.0 (to get make) &ndash; Note, mingw32-make.exe copied
	to make.exe<br></font></font><br/>

	</p>
</ul>
<p style="margin-bottom: 0.11in; line-height: 100%"><font color="#000000"><font face="Calibri, serif">Additions
to PATH to build EPICS</font></font></p>
<ul>
	<li/>
<p style="margin-bottom: 0in; line-height: 100%"><font color="#000000"><font face="Calibri, serif">C:\Qt\Tools\QtCreator\bin<br>(jom.exe
	&ndash; could not be used as it does not understand &lsquo;make&rsquo;
	&lsquo;wildcard&rsquo;)</font></font></p>
	<li/>
<p style="margin-bottom: 0in; line-height: 100%"><font color="#000000"><font face="Calibri, serif">C:\Strawberry\c\bin<br>(a
	lot of gcc stuff, but not make. Is this required?)</font></font></p>
	<li/>
<p style="margin-bottom: 0in; line-height: 100%"><font color="#000000"><font face="Calibri, serif">C:\Strawberry\perl\bin<br>(perl.exe)</font></font></p>
	<li/>
<p style="margin-bottom: 0in; line-height: 100%"><font color="#000000"><font face="Calibri, serif">C:\Program
	Files
	(x86)\mingw-w64\i686-7.1.0-posix-dwarf-rt_v5-rev0\mingw32\bin<br>(for
	gcc make &ndash; last to avoid picking up other gcc stuff in
	preference to msvc)<br></font></font><br/>

	</p>
</ul>
<p style="margin-bottom: 0.11in; line-height: 100%"><font color="#000000"><font face="Calibri, serif">Commands
to build EPICS</font></font></p>
<ul>
	<li/>
<p style="margin-bottom: 0in; line-height: 100%"><font color="#000000"><font face="Calibri, serif">cd
	C:\epics\base</font></font></p>
	<li/>
<p style="margin-bottom: 0in; line-height: 100%"><font color="#000000"><font face="Calibri, serif">&quot;C:\Program
	Files (x86)\Microsoft Visual
	Studio\2017\Community\VC\Auxiliary\Build\vcvarsall.bat&quot;
	x86_amd64</font></font></p>
</ul>
<p style="margin-bottom: 0.11in; line-height: 100%"><font color="#000000">&nbsp;</font></p>
<h1 class="western" style="margin-top: 0.17in; margin-bottom: 0in"><font color="#2f5496"><font face="Calibri Light, serif"><font size="5" style="font-size: 18pt">Qt
5.9 configuration</font></font></font></h1>
<p style="margin-bottom: 0.11in; line-height: 100%"><font color="#000000"><font face="Calibri, serif">The
following was installed for building EPICSQt in QtCreator:</font></font></p>
<ul>
	<li/>
<p style="margin-bottom: 0in; line-height: 100%"><font color="#000000"><font face="Calibri, serif">Qt
	5.9 development environment</font></font></p>
	<li/>
<p style="margin-bottom: 0in; line-height: 100%"><font color="#000000"><font face="Calibri, serif">Windows
	SDK 10.1.0.0 (provides debugger for QtCreator)</font></font></p>
	<li/>
<p style="margin-bottom: 0in; line-height: 100%"><font color="#000000"><font face="Calibri, serif">CMake
	3.9.0 (not required?)</font></font><font color="#000000"><font face="Tahoma, serif"><font size="2" style="font-size: 10pt"><br></font></font></font><br/>

	</p>
</ul>
<p style="margin-bottom: 0.11in; line-height: 100%"><font color="#000000"><font face="Calibri, serif">Qt
5.9 installed with the following kits:</font></font></p>
<ul>
	<li/>
<p style="margin-bottom: 0in; line-height: 100%"><font color="#000000"><font face="Calibri, serif">Desktop
	Qt 5.9.0 MSVC2017 64bit<br>This kit required manual selection of:<br>-
	Microsoft Visual C++ Compiler 15.0&nbsp; (amd64) for both C and
	C++<br>- Widows SDK 10 cdb x64 (after first installation SDK)<br>-
	CMake (after first installing CMake)<br>Still complained CMake
	&lsquo;Configuration has no path to a C and C++ compiler set, even
	though the kit has a valid tool chain&rsquo;, but worked OK.</font></font></p>
</ul>
<ul>
	<li/>
<p style="margin-bottom: 0in; line-height: 100%"><font color="#000000"><font face="Calibri, serif">Desktop
	Qt 5.9.0 MinGW 32bit<br>This kit had no errors.</font></font></p>
</ul>
<ul>
	<li/>
<p style="margin-bottom: 0in; line-height: 100%"><font color="#000000"><font face="Calibri, serif">Qt
	5.9.0 for UWP 32bit (MSVC 2017)<br>This kit also complained of no
	compilers. Selected Microsoft Visual C++ Compiler 15.0&nbsp; (x86)
	for both C and C++</font></font></p>
</ul>
<ul>
	<li/>
<p style="margin-bottom: 0in; line-height: 100%"><font color="#000000"><font face="Calibri, serif">Qt
	5.9.0 for UWP 64bit (MSVC 2017)<br>This kit also complained of no
	compilers. Selected Microsoft Visual C++ Compiler 15.0&nbsp; (amd64)
	for both C and C++</font></font></p>
</ul>
<ul>
	<li/>
<p style="margin-bottom: 0in; line-height: 100%"><font color="#000000"><font face="Calibri, serif">Qt
	5.9.0 for UWP armv7 (MSVC 2017)<br>This kit also complained of no
	compilers. No arm compiler to select.</font></font></p>
	<p style="margin-bottom: 0in; line-height: 100%"></p>
</ul>
<p style="margin-bottom: 0.11in; line-height: 100%"><font size="4" style="font-size: 14pt"><font color="#000000"><font face="Calibri, serif">Qt
5.9 further configuration:</font></font></font></p>
<p style="margin-bottom: 0.11in; line-height: 100%"><font color="#000000"><font face="Calibri, serif">Build
and Run &ndash; Debuggers &ndash; Add (following install of Windows
SDK): </font></font>
</p>
<ul>
	<li/>
<p style="margin-bottom: 0in; line-height: 100%"><font color="#000000"><font face="Calibri, serif">Name:
	Widows SDK 10 cdb x64</font></font></p>
	<li/>
<p style="margin-bottom: 0in; line-height: 100%"><font color="#000000"><font face="Calibri, serif">Path:
	C:\Program Files (x86)\Windows Kits\10\Debuggers\x64\cdb.exe</font></font></p>
	<li/>
<p style="margin-bottom: 0in; line-height: 100%"><font color="#000000"><font face="Calibri, serif">Type:
	CDB</font></font></p>
	<li/>
<p style="margin-bottom: 0in; line-height: 100%"><font color="#000000"><font face="Calibri, serif">ABIs:
	x86-windows-msvc2017-pe-64bit</font></font></p>
	<li/>
<p style="margin-bottom: 0in; line-height: 100%"><font color="#000000"><font face="Calibri, serif">Version:
	10.0.15063.400</font></font></p>
</ul>
<p style="margin-bottom: 0in; line-height: 100%"><br/>

</p>
<p style="margin-bottom: 0.11in; line-height: 100%"><font color="#000000"><font face="Calibri, serif">Version
control &ndash; Git (following installation of Git Desktop app):</font></font></p>
<ul>
	<li/>
<p style="margin-bottom: 0in; line-height: 100%"><font color="#000000"><font face="Calibri, serif">Prepend
	to PATH:
	C:\ProgramData\user\GitHubDesktop\app-0.5.9\resources\app\git\mingw64\bin</font></font></p>
</ul>
<p style="margin-bottom: 0in; line-height: 100%"><br/>

</p>
<h1 class="western" style="margin-top: 0.17in; margin-bottom: 0in"><font color="#2f5496"><font face="Calibri Light, serif"><font size="5" style="font-size: 18pt">EPICSQt</font></font></font></h1>
<p style="margin-bottom: 0.11in; line-height: 100%"><font color="#000000"><font face="Calibri, serif">Prerequisites
for epicsqt:</font></font></p>
<ul>
	<li/>
<p style="margin-bottom: 0in; line-height: 100%"><font color="#000000"><font face="Calibri, serif">QWT
	6.1.3<br>Source copied to C:\qwt-6.1.3<br>Project built by QtCreator</font></font></p>
	<li/>
<p style="margin-bottom: 0in; line-height: 100%"><font color="#000000"><font face="Calibri, serif">FFMPEG<br>3.3.1
	&lsquo;dev&rsquo; and &lsquo;shared&rsquo; 64 bit binary downloaded
	and both copied to C:\ffmpeg<br>(Note there are some common files to
	each)</font></font></p>
	<li/>
<p style="margin-bottom: 0in; line-height: 100%"><font color="#000000"><font face="Calibri, serif">C:\epicsqtTarget
	directory created</font></font></p>
</ul>
<p style="margin-left: 0.5in; text-indent: -0.25in; margin-bottom: 0in; line-height: 100%">
<br/>

</p>
<p style="margin-bottom: 0.11in; line-height: 100%"><font color="#000000"><font face="Calibri, serif">Additions
to PATH to either use Qt Creator or run qegui:</font></font></p>
<ul>
	<li/>
<p style="margin-bottom: 0in; line-height: 100%"><font color="#000000"><font face="Calibri, serif">C:\Program
	Files\CMake\bin\<br>CMake</font></font></p>
	<li/>
<p style="margin-bottom: 0in; line-height: 100%"><font color="#000000"><font face="Calibri, serif">C:\Program
	Files (x86)\Windows Kits\10\Windows Performance Toolkit\<br>Microsoft
	debugger</font></font></p>
	<li/>
<p style="margin-bottom: 0in; line-height: 100%"><font color="#000000"><font face="Calibri, serif">C:\epicsqtTarget\bin\windows-x64<br>qegui.exe</font></font></p>
	<li/>
<p style="margin-bottom: 0in; line-height: 100%"><font color="#000000"><font face="Calibri, serif">C:\epicsqtTarget\lib\windows-x64<br>qeplugin.dll</font></font></p>
	<li/>
<p style="margin-bottom: 0in; line-height: 100%"><font color="#000000"><font face="Calibri, serif">C:\ffmpeg\bin<br>ffmpeg</font></font></p>
	<li/>
<p style="margin-bottom: 0in; line-height: 100%"><font color="#000000"><font face="Calibri, serif">C:\epics\base\bin\windows-x64<br>ca.dll,
	com.dll</font></font></p>
	<li/>
<p style="margin-bottom: 0in; line-height: 100%"><font color="#000000"><font face="Calibri, serif">C:\qwt-6.1.3\lib<br>qwt
	libraries</font></font></p>
	<li/>
<p style="margin-bottom: 0in; line-height: 100%"><font color="#000000"><font face="Calibri, serif">C:\Qt\5.9\msvc2017_64\bin</font></font></p>
	<li/>
<p style="margin-bottom: 0in; line-height: 100%"><font color="#000000"><font face="Calibri, serif">C:\Qt\Tools\QtCreator\bin</font></font></p>
</ul>
<p class="western" style="margin-bottom: 0in; line-height: 100%"><br/>

</p>
<p class="western" style="margin-bottom: 0in; line-height: 100%"><br/>

</p>
</body>
</html>